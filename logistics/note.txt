from django.shortcuts import render
from django.views.decorators.csrf import csrf_exempt

@csrf_exempt
def create_order(request):
    if request.method == 'POST':
        if 'recipient_first_name' in request.POST:
            # Handle the recipient form submission
            recipient_first_name = request.POST['recipient_first_name']
            recipient_last_name = request.POST['recipient_last_name']
            recipient_email = request.POST['recipient_email']
            recipient_phone_number = request.POST['recipient_phone_number']
            recipient_address = request.POST['recipient_address']
            recipient_full_name = f"{recipient_first_name} {recipient_last_name}"
            recipient_contact_info = f"{recipient_email}, {recipient_phone_number}"

            return render(request, 'package_details.html', {'recipient_full_name': recipient_full_name, 'recipient_contact_info': recipient_contact_info})
        elif 'package_name' in request.POST:
            # Handle the package details form submission
            package_name = request.POST['package_name']
            package_weight = request.POST['package_weight']
            package_description = request.POST['package_description']
            package_extra_info = request.POST['package_extra_info']

            return render(request, 'order_summary.html', {'package_name': package_name, 'package_weight': package_weight, 'package_description': package_description, 'package_extra_info': package_extra_info})
        elif 'order_date' in request.POST:
            # Handle the order summary form submission
            order_date = request.POST['order_date']

            # Create the order here

            return render(request, 'order_created.html')